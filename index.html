<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<title>Morten Siebuhr · NoSQL · OSD2012</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=1274, user-scalable=no">
	<link rel="stylesheet" href="themes/test1/styles/style.css">
</head>

<!--
vi: set spell
-->

<body class="list">

	<header class="caption">
		<h1>Morten Siebuhr · NoSQL</h1>
		<p>Open Source Days 2012</p>
	</header>

	<div class="slide shout" id="Cover"><div>
		<section>
			<header>
				<h2 style="font-size: 6em">NoSQL</h2>
			</header>
		</section>
	</div></div>

	<!-- {{{ whoami -->
	<div class="slide bg" id="whoami"><div>
		<section>
			<img src="pictures/me.jpg" alt="">
		</section>
	</div></div>
	<!-- }}} whoami -->

	<!-- {{{ whoami2 -->
	<div class="slide" id="whoami2"><div>
		<section>
		<ul class="centerlist inner">
		<li class="active">Computer Scientist</li>
		<li>Webdeveloper, One.com</li>
		<li>Interest in distributed systems</li>
		</ul>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{  plan-->
	<div class="slide" id="plan"><div>
		<section>
			<header>
				<h2>The Plan</h2>
			</header>
			<ul class="centerlist inner">
				<li class="active" />
				<li>Databases</li>
				<li>Bulding Blocks</li>
				<li>NoSQL anatomy</li>
				<li>Usage</li>
				<li>How to Choose</li>
			</ul>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ Databases -->

	<div class="slide bg" id="databaseIntroSlide"><div>
		<section>
		<!--<img src="pictures/me.jpg" alt="">-->
		<h2>Database-related image here</h2>
		</section>
	</div></div>

	<div class="slide" id="databaseDefinition"><div>
		<section>
			<header>
				<h2>/ˈdatəˌbās/</h2>
			</header>
			<blockquote cite="Google">A structured set of data held in a
			computer, esp. one that is accessible in various ways.</blockquote>
		</section>
	</div></div>

	<div class="slide" id="SQLDefinition"><div>
		<section>
			<header>
				<h2>/ˈɛs kjuː ˈɛl/ · /ˌsiːkwəl/</h2>
			</header>

			<ul class="centerlist inner">
				<li class="active" />
				<li>»Industry Standard«</li>
				<li>ACID (Atomicity, Consistency, Isolation and Durability)</li>
				<li>Been around since ≈1970</li>
				<li>…</li>
			</ul>
	</section>
	</div></div>

	<div class="slide" id="SQLproblems"><div>
		<section>
		<header>Why <em>Not</em> SQL?</header>
		<ul class="centerlist inner">
		<li class="active" />
		<li>Language within a language</li>
		<li>Consistency Overkill</li>
		<li>Difficult to model some data-structures</li>
		<li>Scaling</li>
		<li>…</li>
		</ul>
		</section>
	</div></div>

	<div class="slide" id="NoSQLDefinition"><div>
		<section>
			<header>
				<h2>/noʊ ˈɛs kjuː ˈɛl/ · /noʊ ˌsiːkwəl/</h2>
			</header>
			<ul class="centerlist inner">
				<li class="active">Forfeit Consistency and Isolation…</li>
				<li>…for availability, grateful degradation and performance.</li>
				<li>→ BASE: Basically Available, Soft-state, Eventual consistency</li>
			</ul>
		</section>
	</div></div>

	<div class="slide" id="ACIDvBASE"><div>
		<section>
			<header>
				<h2>ACID → BASE</h2>
			</header>
			<table>
			<thead><td width="50%">ACID</td><td width="50%">BASE<td></thead>
			<tr><td>

			<ul>
			<li>Strong Consistency</li>
			<li>Isolation</li>
			<li>The »commit«</li>
			<li>Schema evolution</li>
			</ul>

			</td> <td>

			<ul>
			<li>Weak/Eventual Consistency</li>
			<li>Availability</li>
			<li>Speed</li>
			<li>Easier Evolution</li>
			</ul>

			</td>
			</tr>
			</table>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ Theory -->
	<div class="slide bg shout" id="theoryIntroSlide"><div>
		<section>
		<img src="pictures/grand-scale.jpg" alt="">
		</section>
	</div></div>

	<div class="slide" id="CAP"><div>
		<section>
			<header>
				<h2>E. A. Brewers CAP theorem</h2>
			</header>
			<!-- Make individual slides? -->
			<dl>
				<dd>Consistency</dd>
				<dt>All clients see the same data.</dt>
				<dd>Availability</dd>
				<dt>Each client can always read and write.</dt>
				<dd>Partition Tolerance</dd>
				<dt>Works despite network partitions.</dt>
			</dl>
		</section>
	</div></div>

	<div class="slide shout" id="PickAnyTwo"><div>
		<section>
			<header> <h2>Pick Any Two</h2> </header>
		</section>
	</div></div>

	<div class="slide shout" id="PickAnyTwoAndFakeIt"><div>
		<section>
			<header>
				<h2>(Then fake the last)</h2>
			</header>
		</section>
	</div></div>

	<!-- Make blank CAP-triangle -->

	<div class="slide" id="ConsistencyAvailability"><div>
		<section>
			<header>
			<h2>Consistency + Availability<br />(No Partition Tolerance)</h2>
			</header>

			<ul class="centerlist">
			<li>All clients see the same data, and all clients can read and write</li>
			<li>Typically have problems with network partitions</li>
			<li>Fix it by adding replication</li>
			<li>Screwing the System Administrators</li>

			<li>Traits: 2-phase commit, cache validation protocols</li>

			<li>Examples: Single-site/Cluster databases, LDAP, RDBMS's</li>
			</ul>
		</section>
	</div></div>

	<div class="slide" id="ConsistencyPartitionTolerance"><div>
		<section>
			<header>
				<h2>Consistency + Partition Tolerance (Limited Availability)</h2>
			</header>


			<ul class="centerlist">
				<li>All clients see the same data, despite partitioned network.</li>
				<li>Deals with it by dropping availability.</li>
				<li>Fix it by replicating data</li>
				<li>Screwing our Users</li>

				<li>Traits: Pessimistic Locking, Drop minority partitions when
				in trouble</li>

				<li>Examples: Distributed databases, locking and majority
				protocols, Google BigTable, HBase, Redis, BDB</li>
			</ul>

			<!--
			Google BigTable
			HBase
			MongoDB
			MemcacheDB
			Redis
			Berkeley DB
			-->
		</section>
	</div></div>

	<div class="slide" id="PartitionToleranceAvailability"><div>
		<section>
			<header>
			<h2>Partition Tolerance + Availability<br />(What Consistency?)</h2>
			</header>

			<ul class="centerlist">
			<li>All clients and read and write despite network partitions.</li>
			<li>»Eventual Consistency«</li>
			<li>Fix it by replication and Verification</li>
			<li>Screw the Developers</li>

			<li>Traits: conflict resolution, optimistic, leases/expiration</li>

			<li>Examples: DNS, Web Cache, Riak, Cassandra, CouchDB</li>
			</ul>

			<!--
			Riak
			Dynamo
			Voldemort
			Cassandra
			CouchDB
			-->
		</section>
	</div></div>

	<div class="slide" id="VisualCAP"><div>
		<section>
			<header>
			<!--<h2>Overview</h2>-->
			</header>
			<img src="pictures/nosql_cap.png" alt="" width="70%" class="middle">
		</section>
	</div></div>

	<!-- }}} -->

	<!-- {{{ Databases, part II -->
	<div class="slide bg" id="DatabasesPartII"><div>
		<section>
		<img src="pictures/dipping-toes.jpg" alt="">
		</section>
	</div></div>

	<div class="slide" id="TypesOfDatabases"><div>
		<section>
			<header> <h2>NoSQL categories</h2> </header>

			<ul class="centerlist">
			<li> Key/Value
			<li> Document
			<li> Column / Tabular
			<li> (Graph)
			</ul>

		</section>
	</div></div>

	<!-- {{{ MapReduce -->
	<div class="slide" id="CommonMapReduce"><div>
		<section>
		<header><h2>Common: Map/Reduce</h2></header>
		<ul class="inner">
		<li class="active"><code>map(key1, value1)</code> → <code>[(key2, value2), ...]</code>
		<li><code>reduce(key2, [value2])</code> → <code>[value3, ...]</code>
		</ul>
		</section>
	</div></div>

	<div class="slide" id="MapReduceExample"><div>
		<section>
		<header><h2>Map/Reduce wordcount</h2></header>

<pre>
<code>def map(document_name, text):
	for word in text:
		yield (word, 1)</code>

… Shuffle output …

<code>def reduce(word, count):
	yield (word, sum(count))</code>
</pre>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ KeyValue -->
	<div class="slide shout" id="KeyValue"><div>
		<section>
			<header> <h2>Key-Value databases</h2> </header>
		</section>
	</div></div>

	<div class="slide" id="KeyValueAPI"><div>
		<section>
			<header> <h2>API</h2> </header>
			<ul class="centerlist">
			<li> Key → Value
			<li> <code>set(key, value)</code>
			<li> <code>get(key)</code>
			<li> <code>delete(key)</code>
			<li> Sometimes:</li>
			<li> <code>get_all()</code>
			</ul>
		</section>
	</div></div>

	<div class="slide" id="Riak"><div>
		<section>
		<header>
		<h2>Riak</h2>
		</header>
		<ul>
		<li>Key/Value</li>
		<li>Eventual consistency</li>
		<li>Links</li>
		<li>Secondary Indices</li>
		<li>Map/Reduce</li>
		</ul>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ Column -->
	<div class="slide shout" id="Column"><div>
		<section>
		<header><h2>Column/Tabular databases</h2></header>
		</section>
	</div></div>

	<div class="slide" id="ColumnAPI"><div>
		<section>
			<header> <h2>API</h2> </header>
			<ul class="centerlist">
			<li> (Table, Row, Prefix:Column) → Value
			<li> <code>create_table(table, column_prefixes)</code>
			<li> <code>set(table, row, prefix:column, value)</code>
			<li> <code>get(table, [row], [prefix:[column]])</code>
			<li> <code>scan(table, row_start, row_end, [prefix:[column]])</code>
			<li> <code>delete(table, …)</code>
			</ul>
		</section>
	</div></div>

	<div class="slide" id="HBase"><div>
		<section>
		<header><h2>HBase</h2></header>
		<ul>
		<li>Column-oriented</li>
		<li>Backed by HDFS</li>
		<li>Copy of Google BigTable</li>
		<li>Key-scans</li>
		<li>Map/Reduce</li>
		</ul>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ Document -->
	<div class="slide shout" id="Document"><div>
		<section>
			<header> <h2>Document databases</h2> </header>
		</section>
	</div></div>

	<div class="slide" id="DocumentAPI"><div>
		<section>
			<header> <h2>API</h2> </header>
			<ul class="centerlist">
			<li> Document
			<li> <code>set(document, [key]) → key</code>
			<li> <code>get(key) → document</code>
			<li> <code>query(some_query_language)</code>
			<li> <code>delete(key, …)</code>
			</ul>
		</section>
	</div></div>

	<div class="slide" id="MongoDB"><div>
		<section>
		<header><h2>MongoDB</h2></header>
		<ul>
		<li>Document database</li>
		<li>Free-form indices</li>
		<li>Map/Reduce</li>
		</ul>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- }}} -->

	<!-- {{{ Examples -->
	<div class="slide bg" id="ExamplesIntroSlide"><div>
		<section>
		<!--<img src="pictures/me.jpg" alt="">-->
		<h2>Examples</h2>
		</section>
	</div></div>
	<!-- }}} -->

	<!-- {{{ How to Choose -->
	<div class="slide bg" id="HowToChooseIntroSlide"><div>
		<section>
		<!--<img src="pictures/me.jpg" alt="">-->
		<h2>HowToChoose</h2>
		</section>
	</div></div>
	<!-- }}} -->

	<div class="slide bg" id="Questions"><div>
		<section>
			<header>
			<!--<h2>Overview</h2>-->
			</header>
			<img src="pictures/questions.jpg" alt="">
		</section>
	</div></div>

	<div class="slide" id="ThankYou"><div>
		<section>
			<header>
				<h2>Thanks!</h2>
			</header>
			<p>Morten Siebuhr, One.com</p>
			<ul>
				<li><a href="http://sbhr.dk">sbhr.dk</a></li>
				<li><a href="http://twitter.com/msiebuhr">twitter.com/msiebuhr</a></li>
				<li><a href="mailto:sbhr@sbhr.dk">sbhr@sbhr.dk</a></li>
			</ul>
		</section>
	</div></div>

	<!-- {{{1 Slide templates -->
	<!-- {{{ Header
	<div class="slide" id="Header"><div>
		<section>
			<header>
				<h2>Header</h2>
			</header>
			<p>This <code>&lt;tool&gt;</code> is provided <strong>without</strong> warranty, guarantee, or much in the way of explanation. Note that use of this tool may or may not crash <em>your</em> browser.</p>
			<p><a href="examples/index.htm" target="_blank">This link will be opened in the new tab</a></p>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ TwoLinesHeader
	<div class="slide" id="TwoLinesHeader"><div>
		<section>
			<header>
				<h2>Two rows.<br>Mighty heading</h2>
			</header>
			<p>This <code>&lt;tool&gt;</code> is provided <strong>without</strong> warranty, guarantee, or much in the way of explanation. Note that use of this tool may or may not crash <em>your</em> browser.</p>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ UnorderedList
	<div class="slide" id="UnorderedList"><div>
		<section>
			<header>
				<h2>Unordered List</h2>
			</header>
			<ul>
				<li>This tool is provided</li>
				<li>Without warranty, guarantee</li>
				<li>Or much in the way of explanation
					<ol>
						<li>Note that use of this tool</li>
						<li>May or may not crash your browser</li>
						<li>Lock up your machine</li>
					</ol>
				</li>
				<li>Erase your hard drive.</li>
			</ul>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ OrderedList
	<div class="slide" id="OrderedList"><div>
		<section>
			<header>
				<h2>Ordered List</h2>
			</header>
			<ol>
				<li>Note that use of this tool</li>
				<li>Erase your hard drive.</li>
				<li>May or may not crash your browser
					<ul>
						<li>This tool is provided</li>
						<li>Or much in the way of explanation</li>
						<li>Without warranty, guarantee</li>
					</ul>
				</li>
				<li>Lock up your machine</li>
			</ol>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ InTheMiddle
	<div class="slide" id="InTheMiddle"><div>
		<section>
			<header>
				<h2>In the Middle</h2>
			</header>
			<object data="pictures/shower.svg" type="image/svg+xml" width="256" height="256" class="middle"></object>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ CodeSample
	<div class="slide" id="CodeSample"><div>
		<section>
			<header>
				<h2>Code Sample</h2>
			</header>
			<pre>
				<code>&lt;html lang="en-US"&gt;</code>
				<code><mark>&lt;head&gt;</mark></code>
				<code>    &lt;title&gt;Shower&lt;/title&gt;</code>
				<code>    &lt;meta charset="<mark class="important">UTF-8</mark>"&gt;</code>
				<code>    &lt;link rel="stylesheet" href="s/screen.css"&gt;</code>
				<code>    &lt;script src="j/jquery.js"&gt;&lt;/script&gt;</code>
				<code><mark>&lt;/head&gt;</mark></code>
			</pre>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ CodeNotes
	<div class="slide" id="CodeNotes"><div>
		<section>
			<header>
				<h2>Code Notes</h2>
			</header>
			<pre>
				<code><mark>&lt;html</mark> lang="en-US"&gt;</code>
			</pre>
			<p class="note">May or may not crash your browser</p>
			<pre>
				<code><mark>&lt;meta</mark> charset="<mark>UTF-8</mark>"&gt;</code>
			</pre>
			<p class="note">Lock up your machine</p>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ Shout
	<div class="slide shout" id="Shout"><div>
		<section>
			<header>
				<h2>Warning<br>Message</h2>
			</header>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ Demo
	<div class="slide shout" id="Demo"><div>
		<section>
			<header>
				<h2><a href="examples/index.htm" target="_blank">Demo</a></h2>
			</header>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ BlockQuote
	<div class="slide" id="BlockQuote"><div>
		<section>
			<header>
				<h2>Block Quote</h2>
			</header>
			<blockquote cite="Anonymous">
				<p>This tool is provided without warranty, guarantee, or much in the way of explanation. Note that use of this tool may or may not crash your browser, lock up your machine, erase your hard drive.</p>
			</blockquote>
		</section>
	</div></div>
	}}} -->
	<!-- {{{ InnerNavigation
	<div class="slide" id="InnerNavigation"><div>
		<section>
			<header>
				<h2>Inner Navigation</h2>
			</header>
			<ol class="inner">
				<li class="active">This tool is provided</li>
				<li>Without warranty, guarantee</li>
				<li>Or much in the way of explanation
				<li>Erase your hard drive.</li>
			</ol>
		</section>
	</div></div>
	}}} -->
	<!-- }}}1 Slide templates -->
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="scripts/script.js"></script>
	<!-- Copyright © 2010–2011 Vadim Makeev, http://pepelsbey.net/ -->

</body>
</html>
